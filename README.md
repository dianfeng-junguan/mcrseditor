# MC Redstone Circuit Editor

Mcrseditor is a Minecraft redstone circuit editor for faster building of large-scale circuit.

It provides a Gui to place gates and wires to build circuits and you can export the content to the nbt file for structure block.

It is still a immature project. The codes are still in a mess and many bugs are yet to be solved, yet it already is capable of converting circuit into valid nbt file smaller than 48\*48\*48 that can be actually generated in Minecraft.

This project requires **pyqt6** and **python_nbt**. You can install them by running:

```bash
pip install pyqt6 python_nbt
```

Note that you can also use it as a library for other projects:

```python
from circuit import *

template_circuit = Circuit()

and_gate_dict=json.load(open("lib/and_2_1.json","r"))
ports=[p[:3]+["in"] for p in and_gate_dict['in']]+[p[:3]+["out"] for p in and_gate_dict['out']]
size=[and_gate_dict['size'][0],and_gate_dict['size'][1]]

and_gate1 = Gate("and",size,ports)
and_gate2 = Gate("and",size,ports)

template_circuit.add_gate(Point2D(0,0),and_gate1)
template_circuit.add_gate(Point2D(10,10),and_gate2)
template_circuit.add_wire(Point2D(0,0),Point2D(0,10))
template_circuit.add_wire(Point2D(0,10),Point2D(10,10))

save_circuit(template_circuit,"template_circuit.mcrs")
template_circuit.to_nbt("template_circuit.nbt")

```


## Files

**circuit.py**

The core of the project. Run it and you can see the editor.

**nbtrd.py**

Nbt operations. **circuit.py** uses this file to do nbt operations.

**menu.py**

*(Unused)* The definition of the Menu widget.

**editor.py**

An command line editor to write a script describing the circuit. You can see the grammer by typing 'help' in it. It saves the script as a json file that can be interpreted by **obj.py**.

you can directly write in the console and run the 'save' command, or you can write into a file and run:

```bash
editor.py script_filename output_filename
```

**obj.py**

A file that converts json generated by **editor.py** into nbt and json file that can be interpreted by **ui.py**. Use it as:

```bash
obj.py input_filename output_filename
```

So you can edit a circuit in ui.py and you also can do it by writing a script and let **editor.py** and **obj.py** generate it.

**pathseek.py**

Provides path-seeking algorithms for **obj.py**.
