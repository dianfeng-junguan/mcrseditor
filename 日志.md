# qucs2nbt

## 2024年12月22日

今天大开发，完成了很多功能。

之后计划：

- 通过sch文件获取有哪些模块实体
- 通过sch文件获取模块实体连接关系
- 从nbt库中加载相应功能的结构，放置在地图中
- 根据连接关系连接端口
- 生成nbt文件

## 2024年12月26日

寻路部分太慢，计划之后用更快的算法

## 2024年12月28日

寻路用了a*。

之后有空把部件和连线规划写得好一点。

现在直接就是用寻路两两连接端口，这不好，可以试试总线连接法，把相连的几个端口全部引到一个总线上面去，而不是直接互相连接。

门电路的放置也要优化，目前只是简单的排成一行，之后尽量方阵排列

代码之后改得可读性高点。

目前生成的nbt没法在mc里面放出来，这个bug待修。

## 2024年12月29日

目前可以在mc中放置电路了，但是有部分端口连接还是有一点问题。

以及这个自己写的脚本也是非常的不完备，接下来先把脚本先提升一下好了。

这几乎是要自己写编译器了……

也可以先退而求其次，先把json的解析生成nbt部分改进一下。

- and, or只有两输入，not一输入, port一输入，全部只有一输出
- 端口不强求有连接，这样就不需要port这个东西了。
- json目前先手写